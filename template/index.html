<!DOCTYPE html>
<html>
<head>
    <meta charset="utf8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Xiaomi Lights Server</title>
    <script src="/js/jscolor.js"></script>
    <script src="/js/script.js"></script>
</head>
<body>

{% for device in devices %}
<div class="device">
    <h2>{{ device.name }}</h2>
    <div class="onoff">
        <input type="button" onclick="switchState('{{ device.identifier }}', 'on')" value="On">
        <input type="button" onclick="switchState('{{ device.identifier }}', 'off')" value="Off">
    </div>
    {% if device.supports_rgb %}
     <div class="coloradj">
        Color:
        <input id="jsc-{{ device.identifier }}" class="jscolor {onFineChange:'updateRect(this)'}" value="{{ device.get_hex_rgb() }}">
        <input type="button" onclick="updateRGB('{{ device.identifier }}', 'jsc-{{ device.identifier }}')" value="Set">
    </div>
    {% endif %}
    {% if device.supports_white %}
        <div class="brightadj">
        Brightness:
        <input type="range" id="rng-brt-{{ device.identifier }}" min="0" max="100" step="25" value="{{ device.brightness }}">
        <input type="button" onclick="updateBrightness('{{ device.identifier }}', 'rng-brt-{{ device.identifier }}')" value="Set">
    </div>
    <div class="ctadj">
        Color Temp:
        <input type="range" id="rng-ct-{{ device.identifier }}" min="2700" max="6500" step="100" value="{{ device.wb }}">
        <input type="button" onclick="updateWB('{{ device.identifier }}', 'rng-ct-{{ device.identifier }}')" value="Set">
    </div>
    {% endif %}
</div>
{% endfor %}
</html>